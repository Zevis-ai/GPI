<!DOCTYPE html>
<html lang="he">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ניהול הזמנות - GPI</title>
    <style>
        /* נוסיף כאן את העיצובים שלך */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            direction: rtl;
            padding: 20px;
        }

        .order-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .order-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .order-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #3498db;
        }

        .order-details {
            margin-bottom: 10px;
        }

        .order-details span {
            display: block;
            font-weight: 600;
        }

        .order-date {
            font-style: italic;
            color: #7f8c8d;
        }
    </style>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAaOp49avUlLknLkGzskeCPCk9xPOAeMUE",
            authDomain: "gpi0-d1e6d.firebaseapp.com",
            databaseURL: "https://gpi0-d1e6d-default-rtdb.firebaseio.com",
            projectId: "gpi0-d1e6d",
            storageBucket: "gpi0-d1e6d.appspot.com",
            messagingSenderId: "138797690477",
            appId: "1:138797690477:web:5d04dd40ed2a577dbed964",
            measurementId: "G-DP0JJ2FX3D"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        document.addEventListener('DOMContentLoaded', () => {
            const ordersRef = ref(database, 'productRequests/');
            onValue(ordersRef, (snapshot) => {
                const ordersContainer = document.querySelector('.order-container');
                ordersContainer.innerHTML = '';

                snapshot.forEach((childSnapshot) => {
                    const order = childSnapshot.val();
                    const orderCard = document.createElement('div');
                    orderCard.className = 'order-card';

                    orderCard.innerHTML = `
                        <div class="order-title">${order.productName}</div>
                        <div class="order-details">
                            <span>קטגוריה: ${order.productCategory}</span>
                            <span>תיאור: ${order.productDescription}</span>
                            <span>חומרי גלם: ${order.productMaterials}</span>
                            <span>כמות דרושה: ${order.productQuantity}</span>
                            <span>מחיר משוער: ${order.estimatedPrice}</span>
                            <span>תאריך אספקה: ${order.deliveryDate}</span>
                            <span>דרישות נוספות: ${order.additionalRequirements}</span>
                            <span>שם ליצירת קשר: ${order.contactName}</span>
                            <span>דוא"ל ליצירת קשר: ${order.contactEmail}</span>
                            <span>טלפון ליצירת קשר: ${order.contactPhone}</span>
                        </div>
                        <div class="order-date">תאריך ההזמנה: ${new Date(parseInt(childSnapshot.key)).toLocaleDateString('he-IL')}</div>
                    `;

                    ordersContainer.appendChild(orderCard);
                });
            });
        });
    </script>
</head>
<body>
    <h1>ניהול הזמנות</h1>
    <div class="order-container"></div>
</body>
</html>
